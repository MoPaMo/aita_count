<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Who's The Asshole?</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@1.0.1/css/bulma.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      #tagcontainer .tag {
        position: absolute;
        transform-origin: bottom center;
        z-index: -1;
      }
      #tagcontainer .tag:nth-child(2) {
        transform: translate(-50%, -50%) rotate(60deg) translate(0, -200px);
      }
      #tagcontainer .tag:nth-child(3) {
        transform: translate(-50%, -50%) rotate(22.5deg) translate(0, -200px);
      }
      #tagcontainer .tag:nth-child(4) {
        transform: translate(-50%, -50%) rotate(-22.5deg) translate(0, -200px);
      }
      #tagcontainer .tag:nth-child(1) {
        transform: translate(-50%, -50%) rotate(-60deg) translate(0, -200px);
      }

  #verdictChart {
    width: 70% !important;  /* Adjust the percentage as needed */
    max-width: 600px;       /* Set a maximum width */
    max-height: 400px;         /* Adjust the height as needed */
  }

    </style>
  </head>
  <body>
    <section class="hero is-fullheight">
      <div class="hero-body">
        <div class="container has-text-centered">
          <p class="title is-size-1">Who's The Asshole?</p>
          <br />
          <p class="subtitle">
            on
            <a
              class="has-text-black"
              href="https://www.reddit.com/r/amitheasshole/"
              target="_blank"
              >r/amitheasshole</a
            >
          </p>
        </div>
      </div>
    </section>
<div id="tagcontainer">
    <div class="tag is-success is-large" style="top: 50%; left: 50%">NTA</div>
    <div class="tag is-danger is-large" style="top: 50%; left: 50%">YTA</div>
    <div class="tag is-warning is-large" style="top: 50%; left: 50%">ESH</div>
    <div class="tag is-info is-large" style="top: 50%; left: 50%">NAH</div>
</div>
    <section class="section is-medium has-text-centered has-background-info has-text-white">
      <h1 class="title has-text-white">We crunched the numbers</h1>
      <h2 class="subtitle">
        <nav class="level">
          <div class="level-item has-text-centered"></div>
          <div class="level-item has-text-centered has-text-white">
            <div>
              <p class="heading has-text-white">Posts</p>
              <p class="title is-size-1 has-text-white">998</p>
            </div>
          </div>
          <div class="level-item has-text-centered has-text-white">←from <br />out of→</div>
          <div class="level-item has-text-centered">
            <div>
              <p class="heading has-text-white">Years</p>
              <p class="title is-size-1 has-text-white">5</p>
            </div>
          </div>
          <div class="level-item has-text-centered"></div>
        </nav>
      </h2>
    </section><section class="section is-medium has-text-centered">
        <h1 class="title">Here's what we found</h1>
        <br>
        <br>
        <br>
        <br>
        <h1 class="title has-text-weight-bold">1. It's probably not you.</h1>
        <br>
        <br>
        <br>

        <h2 class="subtitle">
          <nav class="level">
            <!--NTA    0.896970
            YTA    0.055556
            ESH    0.027273
            NAH    0.020202-->
            <div class="level-item has-text-centered">
              <div>
                <p class="heading"><div class="tag is-success is-large has-text-white">NTA</div></p>
                <p class="title is-size-1 has-text-success">89.6%</p>
              </div>
            </div>
            <div class="level-item has-text-centered">
              <div>
                <p class="heading"><div class="tag is-danger is-large has-text-white">YTA</div></p>
                <p class="title is-size-1 has-text-danger">5.6%</p>
              </div>
            </div>
            <div class="level-item has-text-centered">
              <div>
                <p class="heading"><div class="tag is-warning is-large has-text-white">ESH</div></p>
                <p class="title is-size-1 has-text-warning">2.7%</p>
              </div>
            </div>
            <div class="level-item has-text-centered">
              <div>
                <p class="heading"><div class="tag is-info is-large has-text-white">NAH</div></p>
                <p class="title is-size-1 has-text-info">2.0%</p>
              </div>
            </div>
          </nav>
        </h2>
        <h4>Ditribution of verdicts in top comments from the last 5 years</h4>
        <h4></h4>
      </section>


  <section class="section is-medium has-text-centered">
    <h1 class="title">2. Things have changed</h1>
    <canvas id="verdictChart" class="chart  mx-auto"></canvas>
    <br>
    <h4>Ditribution of verdicts in top comments 2019-2023</h4>

  </section>

  <!-- JavaScript for Chart.js -->
  <script>
    const ctx = document.getElementById('verdictChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['2019', '2020', '2021', '2022', '2023'],
        datasets: [
          {
            label: 'NTA',
            data: [0.651934, 0.920128, 0.963415, 0.982684, 0.958333],
            backgroundColor: 'hsl(141, 71%, 48%)',
            borderColor: 'hsl(141, 53%, 31%)',
            borderWidth: 1,
          },
          {
            label: 'YTA',
            data: [0.182320, 0.038339, 0.018293, 0.012987, 0.041667],
            backgroundColor: 'hsl(348, 100%, 61%)',
            borderColor: 'hsl(348, 86%, 43%)',
            borderWidth: 1,
          },
          {
            label: 'ESH',
            data: [0.082873, 0.028754, 0.012195, 0.004329, 0.000000],
            backgroundColor: 'hsl(48, 100%, 67%)',
            borderColor: 'hsl(48, 100%, 29%)',
            borderWidth: 1,
          },
          {
            label: 'NAH',
            data: [0.082873, 0.012780, 0.006098, 0.000000, 0.000000],
            backgroundColor: 'hsl(204, 86%, 53%)',
            borderColor: 'hsl(204, 71%, 39%)',
            borderWidth: 1,
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            display: true,
            position: 'top',
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                let label = context.dataset.label || '';
                if (label) {
                  label += ': ';
                }
                if (context.parsed.y !== null) {
                  label += (context.parsed.y * 100).toFixed(1) + '%';
                }
                return label;
              }
            }
          }
        },
        scales: {
          x: {
            display:false,
            stacked: true,
          },
          y: {
            display:false,
            stacked: true,
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return value * 100 + '%';
              }
            }
          }
        }
      },elements: {
      // to make background transparent
      backgroundColor: 'transparent'
    },
    });
  </script>
  </body>
</html>
